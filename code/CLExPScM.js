import{_ as O}from"./DlAUqK2U.js";import{v as x,x as M,W as X,X as Y,Y as N,R as P,j as T,O as S,r as b,o as V,Z as A,d as G,M as f,y as h,G as y,S as z,A as I}from"./BN4ta8Vf.js";import{u as W}from"./cDzCfbbq.js";const J={},Z={id:"container"},q=X('<div class="loader" data-v-33f1e119><div class="loader__balls" data-v-33f1e119><div class="loader__balls__group" data-v-33f1e119><div class="ball item1" data-v-33f1e119></div><div class="ball item1" data-v-33f1e119></div><div class="ball item1" data-v-33f1e119></div></div><div class="loader__balls__group" data-v-33f1e119><div class="ball item2" data-v-33f1e119></div><div class="ball item2" data-v-33f1e119></div><div class="ball item2" data-v-33f1e119></div></div><div class="loader__balls__group" data-v-33f1e119><div class="ball item3" data-v-33f1e119></div><div class="ball item3" data-v-33f1e119></div><div class="ball item3" data-v-33f1e119></div></div></div></div>',1),F=[q];function K(v,w){return x(),M("div",Z,F)}const Q=O(J,[["render",K],["__scopeId","data-v-33f1e119"]]);function U(v){return Y()?(N(v),!0):!1}function tt(v){return typeof v=="function"?v():P(v)}const et=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function L(v){var w;const C=tt(v);return(w=C==null?void 0:C.$el)!=null?w:C}const nt=et?window:void 0;function st(){const v=b(!1),w=A();return w&&V(()=>{v.value=!0},w),v}function lt(v){const w=st();return T(()=>(w.value,!!v()))}function it(v,w,C={}){const{window:e=nt,...B}=C;let u;const H=lt(()=>e&&"ResizeObserver"in e),t=()=>{u&&(u.disconnect(),u=void 0)},g=T(()=>Array.isArray(v)?v.map(_=>L(_)):[L(v)]),m=S(g,_=>{if(t(),H.value&&e){u=new ResizeObserver(w);for(const R of _)R&&u.observe(R,B)}},{immediate:!0,flush:"post"}),p=()=>{t(),m()};return U(p),{isSupported:H,stop:p}}const ot={style:{},class:"flex w-full"},at={style:{},class:"flex h-full flex-col"},ht={style:{},class:"flex h-full flex-col"},ut={key:1,class:"flex h-full w-full items-center justify-center bg-[#282c34]"},vt=G({__name:"EditorLayout",setup(v){const w=W(),C=T(()=>w.layoutMode),e=b({}),B=b(!1),u=b({width:0,height:0}),H=b({startX:0,startY:0}),t=b({htmlContent:{width:0,height:0},cssContent:{width:0,height:0},jsContent:{width:0,height:0},runContent:{width:0,height:0}});S(t,s=>{W().setLayoutParams(s)},{deep:!0}),S(C,s=>{E()});function g(s){return{width:`${s.width}px`,height:`${s.height}px`}}const m=b("");function p(s,i){const c=document.createElement("div");m.value=i,H.value={startX:s.clientX,startY:s.clientY},e.value=JSON.parse(JSON.stringify(t.value)),c.style.cssText="position: absolute;top: 0;left: 0;width: 100vw;height: 100vh;z-index: 9999;",c.setAttribute("id","mousemoveMask"),document.body.append(c),c.addEventListener("mousemove",_),c.addEventListener("mouseup",R)}const _=s=>{const{startX:i,startY:c}=H.value,a=s.clientX-i,j=s.clientY-c;if([1,4,5].includes(C.value)){if(m.value==="htmlRightDivider"){let l=e.value.htmlContent.width+a;if(l<40){t.value.htmlContent.width=40,t.value.cssContent.width=e.value.htmlContent.width+e.value.cssContent.width-40;return}let n=e.value.cssContent.width-a;n<40&&(n=40);const d=Math.round(l+n)-Math.round(e.value.htmlContent.width+e.value.cssContent.width);let o=e.value.jsContent.width;d>0&&(o=e.value.jsContent.width-d,o<40&&(o=40));const r=u.value.width,D=l+n+o;if(Math.abs(r-D)>3){t.value.htmlContent.width=r-80,t.value.cssContent.width=40,t.value.jsContent.width=40;return}t.value.htmlContent.width=l,t.value.cssContent.width=n,t.value.jsContent.width=o}if(m.value==="cssRightDivider"){let l=e.value.cssContent.width+a;l<40&&(l=40);let n=e.value.jsContent.width-a;if(n<40){t.value.cssContent.width=e.value.cssContent.width+e.value.jsContent.width-40,t.value.jsContent.width=40;return}const d=Math.round(l+n)-Math.round(e.value.cssContent.width+e.value.jsContent.width);let o=e.value.htmlContent.width;d>0&&(o=e.value.htmlContent.width-d,o<40&&(o=40));const r=u.value.width,D=o+l+n;if(Math.abs(r-D)>3){t.value.htmlContent.width=40,t.value.cssContent.width=40,t.value.jsContent.width=r-80;return}t.value.htmlContent.width=o,t.value.cssContent.width=l,t.value.jsContent.width=n}if(m.value==="runTopDivider"){let l=e.value.runContent.height-j,n=e.value.htmlContent.height+j;l<40&&(l=40,n=u.value.height-40),n<40&&(n=40,l=u.value.height-40),t.value.htmlContent.height=n,t.value.cssContent.height=n,t.value.jsContent.height=n,t.value.runContent.height=l}}if(C.value===2){if(m.value==="htmlRightDivider"){let l=e.value.htmlContent.height+j;if(l<40){t.value.htmlContent.height=40,t.value.cssContent.height=e.value.htmlContent.height+e.value.cssContent.height-40;return}let n=e.value.cssContent.height-j;n<40&&(n=40);const d=Math.round(l+n)-Math.round(e.value.htmlContent.height+e.value.cssContent.height);let o=e.value.jsContent.height;d>0&&(o=e.value.jsContent.height-d,o<40&&(o=40));const r=u.value.height,D=l+n+o;if(Math.abs(r-D)>3){t.value.htmlContent.height=r-80,t.value.cssContent.height=40,t.value.jsContent.height=40;return}t.value.htmlContent.height=l,t.value.cssContent.height=n,t.value.jsContent.height=o}if(m.value==="cssRightDivider"){let l=e.value.cssContent.height+j;l<40&&(l=40);let n=e.value.jsContent.height-j;if(n<40){t.value.cssContent.height=e.value.cssContent.height+e.value.jsContent.height-40,t.value.jsContent.height=40;return}const d=Math.round(l+n)-Math.round(e.value.cssContent.height+e.value.jsContent.height);let o=e.value.htmlContent.height;d>0&&(o=e.value.htmlContent.height-d,o<40&&(o=40));const r=u.value.height,D=o+l+n;if(Math.abs(r-D)>3){t.value.htmlContent.height=40,t.value.cssContent.height=40,t.value.jsContent.height=r-80;return}t.value.htmlContent.height=o,t.value.cssContent.height=l,t.value.jsContent.height=n}if(m.value==="runTopDivider"){let l=e.value.runContent.width-a,n=e.value.htmlContent.width+a;l<40&&(l=40,n=u.value.width-40),n<40&&(n=40,l=u.value.width-40),t.value.htmlContent.width=n,t.value.cssContent.width=n,t.value.jsContent.width=n,t.value.runContent.width=l}}if(C.value===3){if(m.value==="htmlRightDivider"){let l=e.value.htmlContent.height+j;if(l<40){t.value.htmlContent.height=40,t.value.cssContent.height=e.value.htmlContent.height+e.value.cssContent.height-40;return}let n=e.value.cssContent.height-j;n<40&&(n=40);const d=Math.round(l+n)-Math.round(e.value.htmlContent.height+e.value.cssContent.height);let o=e.value.jsContent.height;d>0&&(o=e.value.jsContent.height-d,o<40&&(o=40));const r=u.value.height,D=l+n+o;if(Math.abs(r-D)>3){t.value.htmlContent.height=r-80,t.value.cssContent.height=40,t.value.jsContent.height=40;return}t.value.htmlContent.height=l,t.value.cssContent.height=n,t.value.jsContent.height=o}if(m.value==="cssRightDivider"){let l=e.value.cssContent.height+j;l<40&&(l=40);let n=e.value.jsContent.height-j;if(n<40){t.value.cssContent.height=e.value.cssContent.height+e.value.jsContent.height-40,t.value.jsContent.height=40;return}const d=Math.round(l+n)-Math.round(e.value.cssContent.height+e.value.jsContent.height);let o=e.value.htmlContent.height;d>0&&(o=e.value.htmlContent.height-d,o<40&&(o=40));const r=u.value.height,D=o+l+n;if(Math.abs(r-D)>3){t.value.htmlContent.height=40,t.value.cssContent.height=40,t.value.jsContent.height=r-80;return}t.value.htmlContent.height=o,t.value.cssContent.height=l,t.value.jsContent.height=n}if(m.value==="runTopDivider"){let l=e.value.runContent.width+a,n=e.value.htmlContent.width-a;l<40&&(l=40,n=u.value.width-40),n<40&&(n=40,l=u.value.width-40),t.value.htmlContent.width=n,t.value.cssContent.width=n,t.value.jsContent.width=n,t.value.runContent.width=l}}},R=()=>{const s=document.getElementById("mousemoveMask");s&&s.removeEventListener("mousemove",_),s&&s.removeEventListener("mouseup",R),s&&s.remove(),m.value="",e.value={}},k=b(null);it(k,s=>{const{contentRect:i}=s[0],c=W().containerRect,{width:a,height:j}=c,{width:l,height:n}=i;if(u.value=i,a===l&&j===n){t.value=W().layoutParams,B.value=!0;return}E(),W().setContentRect(i)});function E(){const{width:s,height:i}=u.value,c=C.value,a={1:{html:{width:s/3,height:i*.4},css:{width:s/3,height:i*.4},js:{width:s/3,height:i*.4},run:{width:s,height:i*.6}},2:{html:{width:s*.4,height:i/3},css:{width:s*.4,height:i/3},js:{width:s*.4,height:i/3},run:{width:s*.6,height:i}},3:{html:{width:s*.4,height:i/3},css:{width:s*.4,height:i/3},js:{width:s*.4,height:i/3},run:{width:s*.6,height:i}},4:{html:{width:s/3,height:i-20},css:{width:s/3,height:i-20},js:{width:s/3,height:i-20},run:{width:0,height:0}},5:{html:{width:s/3,height:35},css:{width:s/3,height:35},js:{width:s/3,height:35},run:{width:s,height:i-35}}};t.value={...t.value,htmlContent:a[c].html,cssContent:a[c].css,jsContent:a[c].js,runContent:a[c].run},B.value=!0}const $=T(()=>({}));return(s,i)=>{const c=Q;return x(),M("div",{class:"h-full w-full",ref_key:"containerRef",ref:k},[B.value?(x(),M("div",{key:0,class:"h-full w-full bg-[#1c2736]",style:f({padding:C.value==3?"0":"0 10px"})},[[1,4,5].includes(C.value)?(x(),M("div",{key:0,class:"flex h-full w-full flex-col",style:f($.value)},[h("div",ot,[h("div",{class:"html relative",style:f(g(t.value.htmlContent))},[y(s.$slots,"html",{class:"px-5",size:t.value.htmlContent},void 0),h("div",{class:"verticalRDivider",onMousedown:i[0]||(i[0]=a=>p(a,"htmlRightDivider"))},null,32)],4),h("div",{class:"css relative",style:f(g(t.value.cssContent))},[y(s.$slots,"css",{size:t.value.cssContent},void 0),h("div",{class:"verticalRDivider",onMousedown:i[1]||(i[1]=a=>p(a,"cssRightDivider"))},null,32)],4),h("div",{class:"js",style:f(g(t.value.jsContent))},[y(s.$slots,"js",{size:t.value.jsContent},void 0)],4)]),h("div",{class:"run-iframe relative",style:f(g(t.value.runContent))},[y(s.$slots,"run-iframe",{size:t.value.runContent},void 0),h("div",{class:"horizontalTDivider",onMousedown:i[2]||(i[2]=a=>p(a,"runTopDivider"))},null,32)],4)],4)):z("",!0),C.value===2?(x(),M("div",{key:1,class:"flex h-full w-full",style:f($.value)},[h("div",at,[h("div",{class:"html relative",style:f(g(t.value.htmlContent))},[y(s.$slots,"html",{size:t.value.htmlContent},void 0),h("div",{class:"horizontalBDivider",onMousedown:i[3]||(i[3]=a=>p(a,"htmlRightDivider"))},null,32)],4),h("div",{class:"css relative",style:f(g(t.value.cssContent))},[y(s.$slots,"css",{size:t.value.cssContent},void 0),h("div",{class:"horizontalBDivider",onMousedown:i[4]||(i[4]=a=>p(a,"cssRightDivider"))},null,32)],4),h("div",{class:"js mb-3",style:f(g(t.value.jsContent))},[y(s.$slots,"js",{size:t.value.jsContent},void 0)],4)]),h("div",{class:"run-iframe relative",style:f(g(t.value.runContent))},[y(s.$slots,"run-iframe",{size:t.value.runContent},void 0),h("div",{class:"verticalLDivider",onMousedown:i[5]||(i[5]=a=>p(a,"runTopDivider"))},null,32)],4)],4)):z("",!0),C.value===3?(x(),M("div",{key:2,class:"flex h-full w-full",style:f($.value)},[h("div",{class:"run-iframe relative",style:f(g(t.value.runContent))},[y(s.$slots,"run-iframe",{size:t.value.runContent},void 0),h("div",{class:"verticalRDivider",onMousedown:i[6]||(i[6]=a=>p(a,"runTopDivider"))},null,32)],4),h("div",ht,[h("div",{class:"html relative",style:f(g(t.value.htmlContent))},[y(s.$slots,"html",{size:t.value.htmlContent},void 0),h("div",{class:"horizontalBDivider",onMousedown:i[7]||(i[7]=a=>p(a,"htmlRightDivider"))},null,32)],4),h("div",{class:"css relative",style:f(g(t.value.cssContent))},[y(s.$slots,"css",{size:t.value.cssContent},void 0),h("div",{class:"horizontalBDivider",onMousedown:i[8]||(i[8]=a=>p(a,"cssRightDivider"))},null,32)],4),h("div",{class:"js mb-3",style:f(g(t.value.jsContent))},[y(s.$slots,"js",{size:t.value.jsContent},void 0)],4)])],4)):z("",!0)],4)):z("",!0),B.value?z("",!0):(x(),M("div",ut,[I(c)]))],512)}}}),ft=O(vt,[["__scopeId","data-v-b2e17050"]]);export{ft as default};
